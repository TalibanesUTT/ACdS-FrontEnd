<form class="form" [formGroup]="registerForm">
  <div class="inputContainer">
    <mat-form-field appearance="outline">
      <mat-label>Contraseña anterior</mat-label>
      <input matInput formControlName="actualPassword" type="password" (input)="validForm($event)" />
      <mat-error style="line-height: 1px" *ngIf="registerForm.get('actualPassword')?.hasError('required')"> La contraseña es requerida </mat-error>
      <mat-error
        style="line-height: normal"
        *ngIf="registerForm.get('actualPassword')?.hasError('invalidPassword') && !registerForm.get('actualPassword')?.hasError('required')"
      >
        Debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial
      </mat-error>
    </mat-form-field>
  </div>
  <div class="inputContainer">
    <mat-form-field appearance="outline">
      <mat-label>Nueva contraseña</mat-label>
      <input matInput formControlName="newPassword" type="password" (input)="validForm($event)" />
      <mat-error *ngIf="registerForm.get('newPassword')?.hasError('required')" style="line-height: 1px"> La contraseña es requerida </mat-error>
      <mat-error
        style="line-height: normal"
        *ngIf="registerForm.get('newPassword')?.hasError('invalidPassword') && !registerForm.get('newPassword')?.hasError('required')"
      >
        Debe tener al menos 8 caracteres, una mayúscula, una minúscula, un número y un carácter especial
      </mat-error>
    </mat-form-field>
  </div>
  <div class="inputContainer">
    <mat-form-field appearance="outline">
      <mat-label>Repetir nueva contraseña</mat-label>
      <input matInput formControlName="passwordConfirmation" type="password" (input)="validForm($event)" />
      <mat-error style="line-height: 1px" *ngIf="registerForm.get('passwordConfirmation')?.hasError('required')">
        La confirmación de la contraseña es requerida
      </mat-error>
      <!-- <mat-error
        style="line-height: normal"
        *ngIf="
          registerForm.get('passwordConfirmation')?.hasError('invalidPassword')
        "
      >
        La contraseña debe tener al menos 8 caracteres, una letra mayúscula, una
        letra minúscula y un número
      </mat-error> -->
      <mat-error *ngIf="registerForm.hasError('passwordsMismatchUpdate') && !registerForm.get('passwordConfirmation')?.hasError('required')">
        Las contraseñas no coinciden
      </mat-error>
    </mat-form-field>
  </div>
</form>
<div style="width: 100%; display: flex; align-items: center; justify-content: space-between; margin-top: 20px">
  <button (click)="PasswordChange()" [disabled]="formValid" [ngClass]="formValid ? 'buttonChangePasswordDisabled' : 'buttonChangePassword'">
    <mat-icon class="outlined-icon">edit</mat-icon>
    Actualizar contraseña
  </button>
  <button class="buttonChangePassword" (click)="changeView()">Volver a información personal</button>
</div>
